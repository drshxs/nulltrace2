import{getAuth as p,onAuthStateChanged as l}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";import{initializeApp as u}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";import{getFirestore as m,getDocs as f,collection as h}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const g={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},y=u(g),C=p(),L=m(y);document.addEventListener("DOMContentLoaded",async function(){const s=document.getElementById("pastes-container");(await f(h(L,"pastes"))).forEach(i=>{const n=i.data(),e=document.createElement("div");e.classList.add("paste-bar");const t=document.createElement("a");t.href=`http://127.0.0.1:5500/public/pastes/paste.html?title=${encodeURIComponent(n.title)}`,t.textContent=n.title;const o=new Date(n.timestamp.seconds*1e3).toLocaleString(),r=document.createElement("span");r.classList.add("paste-title"),r.appendChild(t);const c=document.createElement("span");c.classList.add("paste-name"),c.textContent=n.name;const d=document.createElement("span");d.classList.add("paste-date"),d.textContent=o,e.appendChild(r),e.appendChild(c),e.appendChild(d),s.appendChild(e)})});l(C,s=>{s||(window.location.href="http://127.0.0.1:5500/public/auth/register.html")});
